# ğŸš€ AI æç¤ºå·¥ç¨‹é¡§å• (AI Prompt Engineering Consultant)

[![Python Version](https://img.shields.io/badge/python-3.8+-blue.svg)](https://python.org)
[![Streamlit](https://img.shields.io/badge/streamlit-1.28+-red.svg)](https://streamlit.io)
[![AWS Bedrock](https://img.shields.io/badge/AWS-Bedrock-orange.svg)](https://aws.amazon.com/bedrock/)
[![Google AI](https://img.shields.io/badge/Google-Gemini-4285f4.svg)](https://ai.google.dev/)
[![Vertex AI](https://img.shields.io/badge/Google-Vertex%20AI-4285f4.svg)](https://cloud.google.com/vertex-ai)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)

å°ˆæ¥­ç´šçš„AIæç¤ºå·¥ç¨‹å„ªåŒ–å·¥å…·ï¼Œæ¡ç”¨å·¥æ¥­æ¨™æº–çš„æç¤ºåˆ†ææ¡†æ¶ï¼Œå¹«åŠ©ç”¨æˆ¶å°‡æ¨¡ç³Šçš„æƒ³æ³•è½‰åŒ–ç‚ºé«˜æ•ˆã€çµæ§‹åŒ–çš„æç¤ºè©ã€‚æ”¯æ´å¤šç¨®ä¸»æµLLMå¹³å°ï¼ŒåŒ…æ‹¬AWS Bedrock Claudeã€Google Geminiå’ŒOpenAI GPTï¼Œæä¾›ä¼æ¥­ç´šçš„æç¤ºå„ªåŒ–è§£æ±ºæ–¹æ¡ˆã€‚

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ” æ™ºèƒ½æç¤ºåˆ†æ
- **å¤šç¶­åº¦è©•ä¼°**ï¼šåŸºæ–¼å®Œæ•´æ€§ã€æ¸…æ™°åº¦ã€çµæ§‹æ€§ã€å…·é«”æ€§å››å€‹å°ˆæ¥­ç¶­åº¦é€²è¡Œè©•åˆ†
- **é¡å‹è‡ªå‹•è­˜åˆ¥**ï¼šæ”¯æŒé›¶æ¨£æœ¬ã€å°‘æ¨£æœ¬ã€æ€ç¶­éˆã€è§’è‰²æ‰®æ¼”ç­‰8ç¨®æç¤ºé¡å‹è­˜åˆ¥  
- **ç¼ºå¤±å…ƒç´ æª¢æ¸¬**ï¼šç²¾æº–è­˜åˆ¥æç¤ºä¸­ç¼ºå¤±çš„é—œéµçµ„ä»¶å’Œçµæ§‹

### ğŸ¯ å°ˆæ¥­ç´šå„ªåŒ–å¼•æ“
- **å…­æ­¥å„ªåŒ–æµç¨‹**ï¼šè§’è‰²å®šç¾©ã€ä»»å‹™çµæ§‹ã€è¼¸å‡ºè¦ç¯„ã€ç´„æŸæ¢ä»¶ã€ç¤ºä¾‹åƒè€ƒã€èªè¨€å„ªåŒ–
- **å·¥æ¥­ç´šæ¨™æº–**ï¼šç¬¦åˆç¾ä»£æç¤ºå·¥ç¨‹æœ€ä½³å¯¦è¸
- **æ™ºèƒ½å•é¡Œç”Ÿæˆ**ï¼šåŸºæ–¼åˆ†æçµæœå‹•æ…‹ç”Ÿæˆé‡å°æ€§æ”¹é€²å•é¡Œ

### ğŸ¤– å¤šLLMå¹³å°æ”¯æ´
- **Claude (AWS Bedrock)**ï¼šä¼æ¥­ç´šAmazon Web Servicesæ•´åˆ
- **Gemini (API Key)**ï¼šGoogle AIæœ€æ–°æ¨¡å‹ï¼Œæ”¯æ´ä¸€èˆ¬ç”¨æˆ¶
- **Gemini (Vertex AI)**ï¼šGoogle Cloudä¼æ¥­ç´šæœå‹™  
- **OpenAI GPT**ï¼šGPT-4ã€GPT-4oç³»åˆ—æ”¯æ´

### ğŸŒ ä¼æ¥­ç´šå¤šèªè¨€æ”¯æŒ
- **ä¸‰èªè¨€ç•Œé¢**ï¼šç¹é«”ä¸­æ–‡ã€è‹±æ–‡ã€æ—¥æ–‡å®Œæ•´æ”¯æŒ
- **å°ˆæ¥­è¡“èªçµ±ä¸€**ï¼šè·¨èªè¨€ä¿æŒæç¤ºå·¥ç¨‹è¡“èªä¸€è‡´æ€§
- **æ–‡åŒ–é©é…å„ªåŒ–**ï¼šé‡å°ä¸åŒèªè¨€æ–‡åŒ–èƒŒæ™¯å„ªåŒ–æç¤ºçµæ§‹

### ğŸ’¾ æç¤ºè©åº«ç®¡ç†
- **æœ¬åœ°å­˜å„²**ï¼šSQLiteè³‡æ–™åº«å®‰å…¨ä¿å­˜å„ªåŒ–çµæœ
- **æ™ºèƒ½æœç´¢**ï¼šæ ¹æ“šåç¨±ã€å…§å®¹æˆ–æ¨™ç±¤å¿«é€Ÿæª¢ç´¢æç¤ºè©
- **æ¨™ç±¤åˆ†é¡**ï¼šæ”¯æ´è‡ªå®šç¾©æ¨™ç±¤ç³»çµ±ï¼Œä¾¿æ–¼çµ„ç¹”å’Œç®¡ç†
- **ä¸€éµè¤‡è£½**ï¼šå…§å»ºè¤‡è£½åŠŸèƒ½ï¼Œå¿«é€Ÿä½¿ç”¨å·²ä¿å­˜çš„æç¤º
- **ç‰ˆæœ¬è¿½è¹¤**ï¼šè¨˜éŒ„å‰µå»ºæ™‚é–“å’Œå„ªåŒ–æ­·ç¨‹

### âš™ï¸ é«˜ç´šé…ç½®é¸é …
- **å¤šæ¨¡å‹æ”¯æ´**ï¼šéˆæ´»åˆ‡æ›ä¸åŒLLMæä¾›è€…å’Œæ¨¡å‹
- **åƒæ•¸é è¨­çµ„åˆ**ï¼šå¹³è¡¡ã€å‰µæ„ã€ç²¾ç¢ºã€ç·¨ç¨‹ã€åˆ†æç­‰å°ˆæ¥­é…ç½®
- **å¯¦æ™‚èª¿æ•´åŠŸèƒ½**ï¼šTemperatureã€Top-Pã€Top-Kåƒæ•¸å¯¦æ™‚èª¿ç¯€
- **èªè­‰ç®¡ç†**ï¼šæ”¯æ´å¤šç¨®èªè­‰æ–¹å¼ï¼Œå®‰å…¨ä¾¿æ·

## ğŸ› ï¸ æŠ€è¡“æ¶æ§‹

### æ ¸å¿ƒçµ„ä»¶
```
â”œâ”€â”€ llm_invoker.py         # LLMæœå‹™æŠ½è±¡å±¤èˆ‡å·¥å» æ¨¡å¼å¯¦ç¾
â”œâ”€â”€ prompt_eval.py         # å°ˆæ¥­æç¤ºåˆ†æèˆ‡å„ªåŒ–å¼•æ“  
â”œâ”€â”€ app.py                 # Streamlitç”¨æˆ¶ç•Œé¢èˆ‡æµç¨‹æ§åˆ¶
â”œâ”€â”€ prompt_database.py     # SQLiteè³‡æ–™åº«ç®¡ç†èˆ‡æç¤ºè©å­˜å„²
â”œâ”€â”€ claude_code_hook.py    # Claude Codeè‡ªå‹•å„ªåŒ–Hook
â”œâ”€â”€ requirements.txt       # ä¾è³´ç®¡ç†é…ç½®
â”œâ”€â”€ claude_settings.json   # LLMè¨­å®šé…ç½®æª”æ¡ˆ
â”œâ”€â”€ test_gemini.py         # Geminiæ•´åˆæ¸¬è©¦è…³æœ¬
â””â”€â”€ prompts.db            # SQLiteè³‡æ–™åº«æ–‡ä»¶ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
```

### è¨­è¨ˆæ¨¡å¼
- **å·¥å» æ¨¡å¼**ï¼š`LLMFactory`æ”¯æŒå¤šç¨®LLMæœå‹™æ“´å±•
- **ç­–ç•¥æ¨¡å¼**ï¼š`ParameterPresets`æä¾›å¤šç¨®å„ªåŒ–ç­–ç•¥
- **æ¨¡æ¿æ–¹æ³•**ï¼šæ¨™æº–åŒ–çš„æç¤ºåˆ†æèˆ‡å„ªåŒ–æµç¨‹

### æ”¯æ´çš„LLMæ¨¡å‹
| æä¾›è€… | æ¨¡å‹ | èªè­‰æ–¹å¼ | é©ç”¨å ´æ™¯ |
|--------|------|----------|----------|
| Claude (AWS Bedrock) | claude-3-7-sonnet, claude-3-5-sonnet, claude-3-haiku | AWSæ†‘è­‰ | ä¼æ¥­ç´šæ‡‰ç”¨ |
| Gemini (API Key) | gemini-2.5-flash, gemini-2.5-pro | APIå¯†é‘° | å€‹äººé–‹ç™¼ |
| Gemini (Vertex AI) | gemini-2.5-pro, gemini-2.5-flash | Google Cloud | ä¼æ¥­ç´šæ‡‰ç”¨ |
| OpenAI GPT | gpt-4o, gpt-4o-mini, gpt-4 | APIå¯†é‘° | é€šç”¨æ‡‰ç”¨ |

## ğŸ“¦ å¿«é€Ÿé–‹å§‹

### ç³»çµ±è¦æ±‚
- Python 3.8+
- è‡³å°‘ä¸€å€‹LLMæœå‹™çš„è¨ªå•æ¬Šé™ï¼ˆAWS Bedrockã€Google AIã€æˆ–OpenAIï¼‰
- æ”¯æŒçš„æ“ä½œç³»çµ±ï¼šWindowsã€macOSã€Linux

### å®‰è£æ­¥é©Ÿ

1. **å…‹éš†é …ç›®**
   ```bash
   git clone <repository-url>
   cd prompt-tool
   ```

2. **å®‰è£ä¾è³´**
   ```bash
   pip install -r requirements.txt
   ```

3. **ç’°å¢ƒé…ç½®**
   
   æ ¹æ“šæ‚¨æƒ³ä½¿ç”¨çš„LLMå¹³å°é…ç½®ç›¸æ‡‰çš„ç’°å¢ƒè®Šæ•¸ï¼š

   **é¸é …Aï¼šClaude (AWS Bedrock)**
   ```bash
   export AWS_ACCESS_KEY_ID="your_aws_access_key"
   export AWS_SECRET_ACCESS_KEY="your_aws_secret_key"
   ```

   **é¸é …Bï¼šGemini (API Key)**
   ```bash
   export GEMINI_API_KEY="your_gemini_api_key"
   ```
   
   **é¸é …Cï¼šGemini (Vertex AI)**
   ```bash
   export GOOGLE_CLOUD_PROJECT="your_project_id"
   # ä¸¦ç¢ºä¿å·²è¨­å®šGoogle Cloudèªè­‰
   gcloud auth application-default login
   ```

   **é¸é …Dï¼šOpenAI GPT**
   ```bash
   export OPENAI_API_KEY="your_openai_key"
   ```

4. **å•Ÿå‹•æ‡‰ç”¨**
   ```bash
   streamlit run app.py
   ```

5. **æ¸¬è©¦æ•´åˆ** (å¯é¸)
   ```bash
   python test_gemini.py
   ```

6. **è¨ªå•ç•Œé¢**
   - æœ¬åœ°è¨ªå•ï¼šhttp://localhost:8501
   - æ”¯æŒç¶²çµ¡å…±äº«å’Œéƒ¨ç½²

## ğŸ“š ä½¿ç”¨æŒ‡å—

### åŸºæœ¬å·¥ä½œæµç¨‹

1. **é¸æ“‡LLMæ¨¡å‹**
   - åœ¨å´é‚Šæ¬„é¸æ“‡æ‚¨æƒ³ä½¿ç”¨çš„LLMæä¾›è€…
   - æ ¹æ“šéœ€æ±‚é¸æ“‡å…·é«”æ¨¡å‹
   - ç³»çµ±æœƒé¡¯ç¤ºç›¸æ‡‰çš„ç’°å¢ƒè¨­å®šæç¤º

2. **è¼¸å…¥åŸå§‹æç¤º**
   - åœ¨æ–‡æœ¬æ¡†ä¸­è¼¸å…¥æ‚¨çš„åˆå§‹æç¤ºæƒ³æ³•
   - ç³»çµ±è‡ªå‹•è­˜åˆ¥æç¤ºé¡å‹ä¸¦é¡¯ç¤º

3. **å°ˆæ¥­åˆ†æéšæ®µ**
   - ç³»çµ±åŸºæ–¼å…­å€‹ç¶­åº¦é€²è¡Œå°ˆæ¥­è©•ä¼°
   - ç”Ÿæˆè©³ç´°çš„åˆ†æå ±å‘Šå’Œè©•åˆ†

4. **æ™ºèƒ½å•ç­”å„ªåŒ–**
   - æ ¹æ“šåˆ†æçµæœç”Ÿæˆé‡å°æ€§å•é¡Œ
   - å›ç­”å•é¡Œä»¥è£œå……ç¼ºå¤±çš„é—œéµä¿¡æ¯

5. **ç”Ÿæˆå„ªåŒ–æç¤º**
   - ç³»çµ±çµåˆåˆ†æçµæœå’Œç”¨æˆ¶å›ç­”
   - ç”Ÿæˆç¬¦åˆå·¥æ¥­æ¨™æº–çš„å„ªåŒ–æç¤º

6. **ä¿å­˜èˆ‡ç®¡ç†**
   - ä¸€éµä¿å­˜å„ªåŒ–çµæœåˆ°æœ¬åœ°è³‡æ–™åº«
   - æ·»åŠ è‡ªå®šç¾©æ¨™ç±¤ä¾¿æ–¼åˆ†é¡ç®¡ç†
   - éš¨æ™‚è¼‰å…¥å·²ä¿å­˜çš„æç¤ºè©é‡è¤‡ä½¿ç”¨

### LLMå¹³å°è¨­å®šæŒ‡å—

#### AWS Bedrock Claude è¨­å®š
1. **AWS Consoleè¨­å®š**
   - ç™»å…¥AWS Console
   - å•Ÿç”¨Amazon Bedrockæœå‹™
   - ç”³è«‹Claudeæ¨¡å‹è¨ªå•æ¬Šé™

2. **æ†‘è­‰é…ç½®**
   ```bash
   # æ–¹æ³•1ï¼šç’°å¢ƒè®Šæ•¸
   export AWS_ACCESS_KEY_ID="AKIA..."
   export AWS_SECRET_ACCESS_KEY="xyz..."
   
   # æ–¹æ³•2ï¼šAWS CLI
   aws configure
   ```

3. **æ¸¬è©¦é€£æ¥**
   ```bash
   aws bedrock list-foundation-models --region us-west-2
   ```

#### Google Gemini API è¨­å®š  
1. **Google AI Studioè¨­å®š**
   - å‰å¾€ [Google AI Studio](https://makersuite.google.com/app/apikey)
   - å‰µå»ºæ–°çš„APIå¯†é‘°

2. **ç’°å¢ƒé…ç½®**
   ```bash
   export GEMINI_API_KEY="AIza..."
   ```

#### Google Vertex AI è¨­å®š
1. **Google Cloudè¨­å®š**
   - å‰µå»ºæˆ–é¸æ“‡Google Cloudå°ˆæ¡ˆ
   - å•Ÿç”¨Vertex AI API
   - è¨­å®šæœå‹™å¸³æˆ¶æ¬Šé™

2. **èªè­‰é…ç½®**
   ```bash
   # æ–¹æ³•1ï¼šæœå‹™å¸³æˆ¶é‡‘é‘°
   export GOOGLE_APPLICATION_CREDENTIALS="path/to/service-account-key.json"
   export GOOGLE_CLOUD_PROJECT="your-project-id"
   
   # æ–¹æ³•2ï¼šgcloud CLI
   gcloud auth application-default login
   export GOOGLE_CLOUD_PROJECT="your-project-id"
   ```

#### OpenAI API è¨­å®š
1. **OpenAIå¹³å°è¨­å®š**
   - å‰å¾€ [OpenAI Platform](https://platform.openai.com/api-keys)
   - å‰µå»ºæ–°çš„APIå¯†é‘°

2. **ç’°å¢ƒé…ç½®**
   ```bash
   export OPENAI_API_KEY="sk-..."
   ```

### é«˜ç´šåŠŸèƒ½

#### åƒæ•¸é è¨­é…ç½®
| é è¨­é¡å‹ | é©ç”¨å ´æ™¯ | Temperature | Top-P | Top-K |
|---------|---------|-------------|-------|-------|
| å¹³è¡¡ | ä¸€èˆ¬å°è©± | 0.7 | 0.9 | 40 |
| å‰µæ„ | å‰µæ„å¯«ä½œ | 0.9 | 0.95 | 50 |
| ç²¾ç¢º | æŠ€è¡“åˆ†æ | 0.2 | 0.8 | 30 |
| ç·¨ç¨‹ | ä»£ç¢¼ç”Ÿæˆ | 0.1 | 0.9 | 40 |
| åˆ†æ | æ·±åº¦åˆ†æ | 0.4 | 0.85 | 40 |

#### æç¤ºé¡å‹æ”¯æŒ
- **é›¶æ¨£æœ¬æç¤º** (Zero-Shot)ï¼šç„¡ç¤ºä¾‹çš„ç›´æ¥æŒ‡ä»¤
- **å–®æ¨£æœ¬æç¤º** (One-Shot)ï¼šåŒ…å«ä¸€å€‹ç¤ºä¾‹
- **å°‘æ¨£æœ¬æç¤º** (Few-Shot)ï¼šåŒ…å«å¤šå€‹ç¤ºä¾‹
- **æ€ç¶­éˆæç¤º** (Chain of Thought)ï¼šå±•ç¤ºæ¨ç†éç¨‹
- **è§’è‰²æ‰®æ¼”æç¤º** (Role-Playing)ï¼šå®šç¾©AIè§’è‰²
- **æ¨ç†èˆ‡è¡Œå‹•æç¤º** (ReAct)ï¼šçµåˆæ¨ç†å’Œè¡Œå‹•

#### æç¤ºè©åº«åŠŸèƒ½
- **ä¿å­˜åŠŸèƒ½**ï¼šğŸ’¾ ä¸€éµä¿å­˜å„ªåŒ–å¾Œçš„æç¤ºè©
- **è¼‰å…¥åŠŸèƒ½**ï¼šğŸ“ å¿«é€Ÿè¼‰å…¥å·²ä¿å­˜çš„æç¤ºè©
- **æœç´¢åŠŸèƒ½**ï¼šğŸ” æ ¹æ“šé—œéµå­—æœç´¢æç¤ºè©åº«
- **æ¨™ç±¤ç®¡ç†**ï¼šğŸ·ï¸ è‡ªå®šç¾©æ¨™ç±¤åˆ†é¡ç³»çµ±
- **è¤‡è£½åŠŸèƒ½**ï¼šğŸ“‹ ä¸€éµè¤‡è£½æç¤ºè©å…§å®¹
- **åˆªé™¤ç®¡ç†**ï¼šğŸ—‘ï¸ æ¸…ç†ä¸éœ€è¦çš„æç¤ºè©

## ğŸ”§ API æ–‡æª”

### æ ¸å¿ƒé¡åˆ¥

#### `PromptEvaluator`
```python
class PromptEvaluator:
    def __init__(self, llm_type="claude", llm_instance=None, **llm_kwargs):
        """åˆå§‹åŒ–æç¤ºè©•ä¼°å™¨"""
        
    def analyze_prompt(self, prompt, language="zh_TW"):
        """åˆ†ææç¤ºä¸¦è¿”å›å°ˆæ¥­è©•ä¼°çµæœ"""
        
    def generate_questions(self, analysis, language="zh_TW"):
        """åŸºæ–¼åˆ†æçµæœç”Ÿæˆå„ªåŒ–å•é¡Œ"""
        
    def optimize_prompt(self, original_prompt, user_responses, analysis, language="zh_TW"):
        """ç”Ÿæˆå„ªåŒ–å¾Œçš„å°ˆæ¥­æç¤º"""
```

#### `LLMFactory`
```python
class LLMFactory:
    @staticmethod
    def create_llm(llm_type, **kwargs):
        """å·¥å» æ–¹æ³•å‰µå»ºLLMå¯¦ä¾‹"""
        # æ”¯æŒçš„é¡å‹ï¼š'claude', 'gemini', 'gemini-vertex', 'openai'
        
    @staticmethod
    def get_available_models():
        """ç²å–æ‰€æœ‰å¯ç”¨çš„æ¨¡å‹é¸é …"""
```

#### `GeminiInvoker`
```python
class GeminiInvoker:
    def __init__(self, api_key=None, model="gemini-2.5-flash"):
        """åˆå§‹åŒ–Gemini APIèª¿ç”¨å™¨"""
        
    def invoke(self, prompt, system_prompt="", **params):
        """èª¿ç”¨Gemini API"""
        
    def check_connection(self):
        """æª¢æŸ¥APIé€£æ¥ç‹€æ…‹"""
```

#### `GeminiVertexInvoker`
```python
class GeminiVertexInvoker:
    def __init__(self, project_id=None, location="us-central1", model="gemini-2.5-flash"):
        """åˆå§‹åŒ–Vertex AIèª¿ç”¨å™¨"""
        
    def invoke(self, prompt, system_prompt="", **params):
        """èª¿ç”¨Vertex AI API"""
        
    def check_connection(self):
        """æª¢æŸ¥Vertex AIé€£æ¥ç‹€æ…‹"""
```

#### `PromptDatabase`
```python
class PromptDatabase:
    def __init__(self, db_path="prompts.db"):
        """åˆå§‹åŒ–æç¤ºè©è³‡æ–™åº«"""
        
    def save_prompt(self, name, original_prompt, optimized_prompt, **kwargs):
        """ä¿å­˜æç¤ºè©åˆ°è³‡æ–™åº«"""
        
    def load_prompts(self, limit=50):
        """è¼‰å…¥æ‰€æœ‰ä¿å­˜çš„æç¤ºè©"""
        
    def search_prompts(self, query, language=None):
        """æœç´¢æç¤ºè©"""
        
    def delete_prompt(self, prompt_id):
        """åˆªé™¤æŒ‡å®šæç¤ºè©"""
```

### é…ç½®é¸é …

#### ç’°å¢ƒè®Šé‡
```bash
# AWS Bedrocké…ç½®
AWS_ACCESS_KEY_ID=your_access_key
AWS_SECRET_ACCESS_KEY=your_secret_key

# Google Gemini APIé…ç½®
GEMINI_API_KEY=your_gemini_api_key

# Google Vertex AIé…ç½®
GOOGLE_CLOUD_PROJECT=your_project_id
GOOGLE_APPLICATION_CREDENTIALS=path/to/service-account-key.json

# OpenAIé…ç½®
OPENAI_API_KEY=your_openai_key
```

#### æ¨¡å‹åƒæ•¸
```python
{
    "temperature": 0.1-1.0,    # å‰µé€ æ€§æ§åˆ¶
    "top_p": 0.1-1.0,          # æ ¸å¿ƒæ¡æ¨£
    "top_k": 0-100,            # å€™é¸è©é™åˆ¶  
    "max_tokens": 200-8192     # æœ€å¤§è¼¸å‡ºé•·åº¦
}
```

#### LLMè¨­å®šæª”æ¡ˆ (claude_settings.json)
```json
{
  "llmSettings": {
    "defaultProvider": "Claude (AWS Bedrock)",
    "providers": {
      "claude": {
        "region": "us-west-2",
        "model": "us.anthropic.claude-3-7-sonnet-20250219-v1:0"
      },
      "gemini": {
        "model": "gemini-2.5-pro",
        "apiKeyEnv": "GEMINI_API_KEY"
      },
      "gemini-vertex": {
        "model": "gemini-2.5-pro",
        "projectEnv": "GOOGLE_CLOUD_PROJECT",
        "location": "us-central1"
      },
      "openai": {
        "model": "gpt-4o",
        "apiKeyEnv": "OPENAI_API_KEY"
      }
    }
  }
}
```

## ğŸš¨ æ•…éšœæ’é™¤

### å¸¸è¦‹å•é¡Œ

#### 1. AWSæ†‘è­‰å•é¡Œ
```bash
# éŒ¯èª¤ï¼šUnauthorizedOperationæˆ–AccessDenied
# è§£æ±ºï¼šç¢ºèªAWSæ†‘è­‰å’ŒBedrockæ¬Šé™
aws configure list
aws bedrock list-foundation-models --region us-west-2
```

#### 2. Gemini API KeyéŒ¯èª¤
```bash
# éŒ¯èª¤ï¼šAPI key not valid
# è§£æ±ºï¼šæª¢æŸ¥APIå¯†é‘°è¨­å®š
echo $GEMINI_API_KEY
# ç¢ºä¿åœ¨Google AI Studioä¸­APIå¯†é‘°æœ‰æ•ˆä¸”å·²å•Ÿç”¨
```

#### 3. Google Cloudèªè­‰å•é¡Œ
```bash
# éŒ¯èª¤ï¼šAuthentication failed
# è§£æ±ºï¼šé‡æ–°è¨­å®šèªè­‰
gcloud auth application-default login
gcloud config set project YOUR_PROJECT_ID
```

#### 4. ä¾è³´åŒ…å®‰è£å¤±æ•—
```bash
# éŒ¯èª¤ï¼špip installå¤±æ•—
# è§£æ±ºï¼šå‡ç´špipå’Œä½¿ç”¨è™›æ“¬ç’°å¢ƒ
python -m pip install --upgrade pip
python -m venv prompt_env
source prompt_env/bin/activate  # Linux/Mac
# prompt_env\Scripts\activate   # Windows
pip install -r requirements.txt
```

#### 5. Streamlitç«¯å£å ç”¨
```bash
# éŒ¯èª¤ï¼šAddress already in use
# è§£æ±ºï¼šæŒ‡å®šå…¶ä»–ç«¯å£
streamlit run app.py --server.port 8502
```

#### 6. æ¨¡å‹ä¸å¯ç”¨éŒ¯èª¤
```bash
# éŒ¯èª¤ï¼šModel not foundæˆ–Region not supported
# è§£æ±ºï¼šæª¢æŸ¥æ¨¡å‹å¯ç”¨æ€§å’Œå€åŸŸè¨­å®š
# Gemini 2.5æ¨¡å‹å¯èƒ½åœ¨æŸäº›å€åŸŸä¸å¯ç”¨ï¼Œå˜—è©¦å…¶ä»–æ¨¡å‹
```

### æ€§èƒ½å„ªåŒ–

#### éŸ¿æ‡‰æ™‚é–“å„ªåŒ–
- **æº«åº¦è¨­ç½®**ï¼šåˆ†æä»»å‹™ä½¿ç”¨0.1ï¼Œå‰µæ„ä»»å‹™ä½¿ç”¨0.7-0.9
- **Tokené™åˆ¶**ï¼šæ ¹æ“šéœ€æ±‚èª¿æ•´max_tokensï¼Œé¿å…ä¸å¿…è¦çš„é•·éŸ¿æ‡‰
- **ä¸¦ç™¼æ§åˆ¶**ï¼šé¿å…åŒæ™‚ç™¼èµ·å¤šå€‹åˆ†æè«‹æ±‚
- **æ¨¡å‹é¸æ“‡**ï¼šä½¿ç”¨è¼ƒå°çš„æ¨¡å‹å¦‚gemini-2.5-flashç²å¾—æ›´å¿«éŸ¿æ‡‰

#### æˆæœ¬æ§åˆ¶
- **ç›£æ§Tokenä½¿ç”¨**ï¼šå®šæœŸæª¢æŸ¥å„å¹³å°çš„ç”¨é‡å„€è¡¨æ¿
- **é¸æ“‡åˆé©æ¨¡å‹**ï¼šè¼ƒå°æ¨¡å‹é€šå¸¸æ›´ç¶“æ¿Ÿ
- **å¿«å–å„ªåŒ–**ï¼šé¿å…é‡è¤‡åˆ†æç›¸åŒæç¤º
- **æ‰¹é‡è™•ç†**ï¼šè¦åŠƒä½¿ç”¨é«˜å³°é¿å…è¶…é¡è²»ç”¨

## ğŸ§ª æ¸¬è©¦

### é‹è¡Œæ¸¬è©¦
```bash
# åŸºæœ¬æ•´åˆæ¸¬è©¦
python test_gemini.py

# ä¿®å¾©é©—è­‰æ¸¬è©¦
python test_fix.py

# èªæ³•æª¢æŸ¥
python -m py_compile app.py
python -m py_compile llm_invoker.py
```

### æ¸¬è©¦è¦†è“‹ç¯„åœ
- âœ… LLMå·¥å» æ¨¡å¼å‰µå»º
- âœ… Gemini API Keyæ¨¡å¼
- âœ… Vertex AIä¼æ¥­æ¨¡å¼  
- âœ… Claude AWS Bedrock
- âœ… PromptEvaluatoræ•´åˆ
- âœ… UIç•Œé¢è¼‰å…¥
- âœ… é€£æ¥æ¸¬è©¦åŠŸèƒ½

## ğŸ¤ è²¢ç»æŒ‡å—

### é–‹ç™¼ç’°å¢ƒè¨­ç½®
```bash
# 1. Forké …ç›®ä¸¦å…‹éš†
git clone https://github.com/your-username/prompt-tool.git

# 2. å‰µå»ºé–‹ç™¼åˆ†æ”¯
git checkout -b feature/your-feature-name

# 3. å®‰è£é–‹ç™¼ä¾è³´
pip install -r requirements.txt

# 4. é‹è¡Œæ¸¬è©¦
python test_gemini.py
python test_fix.py
```

### ä»£ç¢¼è¦ç¯„
- **PEP 8**ï¼šéµå¾ªPythonä»£ç¢¼é¢¨æ ¼æŒ‡å—
- **é¡å‹æç¤º**ï¼šç‚ºå‡½æ•¸åƒæ•¸å’Œè¿”å›å€¼æ·»åŠ é¡å‹è¨»è§£
- **æ–‡æª”å­—ç¬¦ä¸²**ï¼šä½¿ç”¨Googleé¢¨æ ¼çš„docstring
- **éŒ¯èª¤è™•ç†**ï¼šé©ç•¶çš„ç•°å¸¸è™•ç†å’Œç”¨æˆ¶å‹å¥½çš„éŒ¯èª¤æ¶ˆæ¯

### æäº¤æµç¨‹
1. ç¢ºä¿ä»£ç¢¼é€šéæ‰€æœ‰æ¸¬è©¦
2. æ›´æ–°ç›¸é—œæ–‡æª”
3. æäº¤Pull Requestä¸¦æè¿°è®Šæ›´å…§å®¹
4. ç­‰å¾…ä»£ç¢¼å¯©æŸ¥å’Œåˆä½µ

## ğŸ“ é …ç›®çµæ§‹

```
prompt-tool/
â”œâ”€â”€ .git/                      # Gitç‰ˆæœ¬æ§åˆ¶
â”œâ”€â”€ .claude/                   # Claude Codeé…ç½®
â”œâ”€â”€ __pycache__/              # Pythonç·©å­˜æ–‡ä»¶
â”œâ”€â”€ .DS_Store                 # macOSç³»çµ±æ–‡ä»¶
â”œâ”€â”€ .gitignore                # Gitå¿½ç•¥é…ç½®
â”œâ”€â”€ README.md                 # é …ç›®èªªæ˜æ–‡æª”
â”œâ”€â”€ requirements.txt          # ä¾è³´åŒ…åˆ—è¡¨
â”œâ”€â”€ llm_invoker.py           # LLMæœå‹™æŠ½è±¡å±¤
â”œâ”€â”€ prompt_eval.py           # æç¤ºåˆ†æèˆ‡å„ªåŒ–å¼•æ“
â”œâ”€â”€ app.py                   # Streamlitä¸»æ‡‰ç”¨
â”œâ”€â”€ prompt_database.py       # SQLiteè³‡æ–™åº«ç®¡ç†
â”œâ”€â”€ claude_code_hook.py      # Claude Codeè‡ªå‹•å„ªåŒ–Hook
â”œâ”€â”€ claude_settings.json     # LLMå’Œæ‡‰ç”¨é…ç½®æª”æ¡ˆ
â”œâ”€â”€ quick_optimize.py        # å‘½ä»¤åˆ—å·¥å…·
â”œâ”€â”€ test_gemini.py          # Geminiæ•´åˆæ¸¬è©¦
â”œâ”€â”€ test_fix.py             # ä¿®å¾©é©—è­‰æ¸¬è©¦
â”œâ”€â”€ GEMINI_INTEGRATION.md   # Geminiæ•´åˆè©³ç´°èªªæ˜
â””â”€â”€ prompts.db              # SQLiteè³‡æ–™åº«ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
```

### æ ¸å¿ƒæ¨¡å¡Šèªªæ˜

- **`app.py`**: Streamlit webæ‡‰ç”¨çš„ä¸»å…¥å£ï¼ŒåŒ…å«ç”¨æˆ¶ç•Œé¢ã€å¤šèªè¨€æ”¯æŒã€LLMé¸æ“‡ã€åƒæ•¸é…ç½®ã€æµç¨‹æ§åˆ¶å’Œæç¤ºè©åº«ç®¡ç†
- **`llm_invoker.py`**: LLMæœå‹™çš„æŠ½è±¡å°è£ï¼Œå¯¦ç¾å·¥å» æ¨¡å¼æ”¯æŒClaudeã€Geminiã€OpenAIç­‰å¤šç¨®LLMæä¾›å•†
- **`prompt_eval.py`**: æç¤ºå·¥ç¨‹çš„æ ¸å¿ƒé‚è¼¯ï¼ŒåŒ…å«å°ˆæ¥­çš„åˆ†ææ¡†æ¶ã€å„ªåŒ–ç®—æ³•å’Œå¤šèªè¨€æç¤ºæ¨¡æ¿
- **`prompt_database.py`**: SQLiteè³‡æ–™åº«ç®¡ç†æ¨¡çµ„ï¼Œæä¾›æç¤ºè©çš„æŒä¹…åŒ–å­˜å„²ã€æœç´¢ã€æ¨™ç±¤ç®¡ç†ç­‰åŠŸèƒ½
- **`claude_code_hook.py`**: Claude Codeæ•´åˆHookï¼Œå¯¦ç¾è‡ªå‹•æç¤ºè©å„ªåŒ–åŠŸèƒ½
- **`claude_settings.json`**: çµ±ä¸€çš„é…ç½®æª”æ¡ˆï¼ŒåŒ…å«LLMè¨­å®šã€è‡ªå‹•å„ªåŒ–è¦å‰‡å’Œæ‡‰ç”¨é…ç½®
- **`quick_optimize.py`**: å‘½ä»¤åˆ—å·¥å…·ï¼Œæ”¯æ´å¿«é€Ÿæç¤ºå„ªåŒ–å’Œæ‰¹é‡è™•ç†
- **`test_gemini.py`**: Geminiæ¨¡å‹æ•´åˆæ¸¬è©¦è…³æœ¬ï¼Œé©—è­‰APIé€£æ¥å’ŒåŠŸèƒ½
- **`GEMINI_INTEGRATION.md`**: è©³ç´°çš„Geminiæ•´åˆèªªæ˜å’Œä½¿ç”¨æŒ‡å—

## ğŸ“„ è¨±å¯è­‰

æœ¬é …ç›®æ¡ç”¨ MIT è¨±å¯è­‰ã€‚è©³è¦‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## ğŸ†˜ æ”¯æŒèˆ‡ç¤¾å€

- **Issueå ±å‘Š**ï¼š[GitHub Issues](https://github.com/your-repo/issues)
- **åŠŸèƒ½è«‹æ±‚**ï¼š[Feature Requests](https://github.com/your-repo/discussions)
- **æ–‡æª”å•é¡Œ**ï¼š[Documentation Issues](https://github.com/your-repo/issues)

## ğŸ”® è·¯ç·šåœ–

### v2.1 å·²å®ŒæˆåŠŸèƒ½ âœ…
- [x] **å¤šLLMå¹³å°æ”¯æ´**ï¼šClaudeã€Gemini (API Key & Vertex AI)ã€OpenAI
- [x] **å‹•æ…‹æ¨¡å‹é¸æ“‡**ï¼šUIç•Œé¢æ”¯æ´å³æ™‚åˆ‡æ›LLMæä¾›è€…
- [x] **ä¼æ¥­ç´šèªè­‰**ï¼šæ”¯æ´AWSã€Google Cloudã€OpenAIå¤šç¨®èªè­‰æ–¹å¼
- [x] **çµ±ä¸€é…ç½®ç®¡ç†**ï¼šclaude_settings.jsonçµ±ä¸€ç®¡ç†æ‰€æœ‰LLMè¨­å®š
- [x] **æ•´åˆæ¸¬è©¦æ¡†æ¶**ï¼šå®Œæ•´çš„æ¸¬è©¦è…³æœ¬é©—è­‰å„å¹³å°åŠŸèƒ½
- [x] **è©³ç´°æ–‡æª”**ï¼šåŒ…å«å®‰è£ã€è¨­å®šã€æ•…éšœæ’é™¤çš„å®Œæ•´æŒ‡å—

### v2.2 è¨ˆåŠƒåŠŸèƒ½ ğŸ”œ
- [ ] **æ‰¹é‡æç¤ºè™•ç†åŠŸèƒ½**ï¼šæ”¯æ´å¤šå€‹æç¤ºåŒæ™‚å„ªåŒ–
- [ ] **æç¤ºç‰ˆæœ¬ç®¡ç†ç³»çµ±**ï¼šè¿½è¹¤æç¤ºçš„æ¼”é€²æ­·å²
- [ ] **A/Bæ¸¬è©¦æ¡†æ¶é›†æˆ**ï¼šæ¯”è¼ƒä¸åŒæç¤ºçš„æ•ˆæœ
- [ ] **å¤šæ¨¡æ…‹æç¤ºæ”¯æŒ**ï¼šåœ–åƒ+æ–‡æœ¬æ··åˆæç¤º
- [ ] **APIæœå‹™æ¨¡å¼**ï¼šRESTful APIä¾›å…¶ä»–æ‡‰ç”¨é›†æˆ

### v3.0 é•·æœŸè¦åŠƒ ğŸš€
- [ ] **æ©Ÿå™¨å­¸ç¿’é©…å‹•çš„æç¤ºå„ªåŒ–**ï¼šAIè‡ªå‹•å­¸ç¿’æœ€ä½³æç¤ºæ¨¡å¼
- [ ] **è¡Œæ¥­ç‰¹å®šçš„æç¤ºæ¨¡æ¿åº«**ï¼šé‡å°ä¸åŒè¡Œæ¥­çš„å°ˆæ¥­æ¨¡æ¿
- [ ] **é›²ç«¯SaaSéƒ¨ç½²ç‰ˆæœ¬**ï¼šå®Œå…¨è¨—ç®¡çš„é›²æœå‹™
- [ ] **ä¼æ¥­ç´šç”¨æˆ¶ç®¡ç†**ï¼šå¤šç”¨æˆ¶ã€æ¬Šé™æ§åˆ¶ã€å¯©è¨ˆæ—¥èªŒ
- [ ] **é›²ç«¯åŒæ­¥åŠŸèƒ½**ï¼šè·¨è¨­å‚™æç¤ºè©åŒæ­¥

---

**ğŸŒŸ å¦‚æœé€™å€‹é …ç›®å°æ‚¨æœ‰å¹«åŠ©ï¼Œè«‹çµ¦æˆ‘å€‘ä¸€å€‹Starï¼**

**ğŸ¤ æ­¡è¿æäº¤Issueã€Pull Requestæˆ–å»ºè­°ï¼Œä¸€èµ·è®“é€™å€‹å·¥å…·è®Šå¾—æ›´å¥½ï¼**

*æœ€å¾Œæ›´æ–°ï¼š2025å¹´7æœˆ - v2.1 å¤šLLMæ”¯æ´ç‰ˆæœ¬*